<div class="detail-container" *ngIf="meme$ | async as meme; else loading">
    <div class="header-section">
        <a routerLink="/memes" class="back-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 12H5M12 19l-7-7 7-7" />
            </svg>
            Back to Memes
        </a>
        <h1 class="meme-title">{{ meme.name }}</h1>
    </div>

    <div class="content-grid">
        <div class="image-card">
            <div class="image-wrapper">
                <img [src]="meme.url" [alt]="meme.name" class="meme-image">
            </div>
            <div class="image-meta">
                <div class="meta-badge">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                    </svg>
                    {{ meme.width }} Ã— {{ meme.height }}
                </div>
                <div class="meta-badge">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                    </svg>
                    {{ meme.captions }} captions
                </div>
            </div>
        </div>

        <div class="info-panel">
            <div class="info-card origin-card">
                <div class="card-header">
                    <div class="icon-wrapper origin-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <polyline points="12 6 12 12 16 14" />
                        </svg>
                    </div>
                    <h2>Origin</h2>
                </div>
                <p class="card-content">{{ meme.origin }}</p>
            </div>

            <div class="info-card history-card">
                <div class="card-header">
                    <div class="icon-wrapper history-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M3 3v18h18" />
                            <path d="m19 9-5 5-4-4-3 3" />
                        </svg>
                    </div>
                    <h2>History & Usage</h2>
                </div>
                <p class="card-content">{{ meme.history }}</p>
            </div>
        </div>
    </div>
</div>

<ng-template #loading>
    <div class="loading-container">
        <div class="spinner"></div>
        <p>Loading meme details...</p>
    </div>
</ng-template>